\usepackage[left=3cm, right=3cm]{geometry}

\usepackage{physics}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{derivative}
\usepackage[super]{nth}
\usepackage{algorithm}
\usepackage{algpseudocode}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   aux
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\oneD}{\textsf{1D}\xspace}
\newcommand{\twoD}{\textsf{2D}\xspace}
\newcommand{\threeD}{\textsf{3D}\xspace}
\newcommand{\kD}{\textsf{kD}\xspace}

\newcommand{\squigto}{\rightsquigarrow}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   math
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

\usepackage{stmaryrd}%
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\avg}[1]{\langle #1 \rangle}
\newcommand{\nat}[1]{\llbracket #1 \rrbracket}
\renewcommand{\bar}{\overline}

\renewcommand{\abs}[1]{\left| \bigr. #1 \right|}
\renewcommand{\exp}[1]{\mathop{\mathbf{exp}}\set{#1}}

\newcommand{\mathsc}[1]{{\normalfont\textsc{#1}}}

\renewcommand{\Pr}[1]{\mathop{\mathbf{Pr}\!\left(#1\right)}}
\newcommand{\Ev}[1]{\mathop{\mathbf{E}\!\left(#1\right)}}
\newcommand{\Cov}[2]{\mathop{\mathbf{Cov}\!\left(#1,#2\right)}}
\newcommand{\Var}[1]{\mathop{\mathbf{Var}\!\left(#1\right)}}

\providecommand{\R}{\mathbb{R}}
\providecommand{\C}{\mathbb{C}}
\providecommand{\N}{\mathbb{N}}

\newcommand{\random}{\ensuremath{\mathop{random}}}
\newcommand{\randint}{\ensuremath{\mathop{randint}}}
\newcommand{\simiid}{\overset{iid}{\sim}}
\newcommand{\eqd}{\overset{d}{=}}

\DeclareMathOperator{\GammaD}{Gamma}
\DeclareMathOperator{\ExpD}{Exp}
\DeclareMathOperator{\GeomD}{Geom}
\DeclareMathOperator{\BinomD}{Bin}
\DeclareMathOperator{\UnifD}{Uniform}
\DeclareMathOperator{\NormalD}{Normal}
\DeclareMathOperator{\ChiD}{\mathcal{X}^2}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  graph stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Graph}{\mathsf{G}}%
\newcommand{\GraphA}{\mathsf{H}}%
\newcommand{\GraphB}{\mathsf{J}}%
\newcommand{\GraphC}{\mathsf{K}}%

\providecommand{\G}{}%
\renewcommand{\G}{\Graph}%

\newcommand{\SCC}{\mathsf{SCC}}
\newcommand{\REV}{\mathsf{REV}}

\newcommand{\Vertices}{\mathsf{V}}%
\newcommand{\VerticesX}[1]{\Vertices\pth{#1}}%
\newcommand{\VV}{\Vertices}%
\newcommand{\VX}[1]{\Vertices\pth{#1}}%
\newcommand{\Edges}{\mathsf{E}}
\newcommand{\EE}{\Edges}
\newcommand{\edge}{\mathsf{e}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   problem / solution environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[svgnames]{xcolor}
\usepackage[most]{tcolorbox}

\newtcbtheorem{problembody}{Problem \arabic{subsection}}{
	colback=DarkGreen!5,
	colframe=DarkGreen!100,
	fonttitle=\bfseries,
}{pr}

\newtcbtheorem{subproblembody}{subproblem \arabic{subsubsection}}{
	colback=DarkBlue!5,
	colframe=DarkBlue!100,
	fonttitle=\bfseries
}{spr}

\newenvironment{problem}[1]
{
	\setcounter{subsubsection}{0}
	\addtocounter{subsection}{1}
	\addcontentsline{toc}{subsection}{\thesubsection\ #1}
	\begin{problembody*}{#1}{} }
		{ \end{problembody*} }

\newenvironment{subproblem}[1]
{
	\addtocounter{subsubsection}{1}
	\addcontentsline{toc}{subsubsection}{\thesubsubsection\ #1}
	\begin{subproblembody*}{#1}{} }
		{ \end{subproblembody*} }

\newenvironment{subproblem*}[1]
{ \begin{subproblembody*}{#1} }
		{ \end{subproblembody*} }

\newtcolorbox{solutionbody}
{
	enhanced,
	breakable,
	sharp corners,
	parbox = false,
	colback = black!5,
	frame hidden,
	borderline north = {0.5mm}{0mm}{black!10},
	borderline south = {0.5mm}{0mm}{black!10},
	borderline east = {0.5mm}{0mm}{black!10},
	borderline west = {0.5mm}{0mm}{black!75!white}
}

\newenvironment{solution}
{\begin{solutionbody} \textbf{solution: }}
		{\par\hfill{$\blacksquare$} \end{solutionbody}}

\newtcolorbox{solsetup}
{
	enhanced,
	breakable,
	sharp corners,
	parbox = false,
	colback = black!5,
	frame hidden,
	borderline north = {0.5mm}{0mm}{black!10},
	borderline south = {0.5mm}{0mm}{black!10},
	borderline east = {0.5mm}{0mm}{black!10},
	borderline west = {0.5mm}{0mm}{black!75!white}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   toc
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{hyperref}
\hypersetup{linktoc=all}

\usepackage{framed}
\usepackage{xspace}

\usepackage{tocloft}
\renewcommand\cftsecfont{\normalfont}
\renewcommand\cftsecpagefont{\normalfont}
\renewcommand{\cftsecleader}{\cftdotfill{\cftsecdotsep}}
\renewcommand\cftsecdotsep{\cftdot}
\renewcommand\cftsubsecdotsep{\cftdot}
\renewcommand\cftsubsubsecdotsep{\cftdot}

\usepackage[parfill]{parskip}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   tikz
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usetikzlibrary{positioning, fit, quotes}

